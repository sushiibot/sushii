{
  "id": "bfe6cf7a-a628-4d3f-a288-6e4c5037c162",
  "prevId": "cdcc1062-50cb-48d0-aaa8-e5cd33f97fbf",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "app_private.active_deployment": {
      "name": "active_deployment",
      "schema": "app_private",
      "columns": {
        "id": {
          "name": "id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "generated": {
            "as": "1",
            "type": "stored"
          }
        },
        "name": {
          "name": "name",
          "type": "deployment_name",
          "typeSchema": "app_private",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "active_deployment_id_key": {
          "name": "active_deployment_id_key",
          "nullsNotDistinct": false,
          "columns": [
            "id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "app_public.bot_stats": {
      "name": "bot_stats",
      "schema": "app_public",
      "columns": {
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "count": {
          "name": "count",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "bot_stats_category_idx": {
          "name": "bot_stats_category_idx",
          "columns": [
            {
              "expression": "category",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "bot_stats_pkey": {
          "name": "bot_stats_pkey",
          "columns": [
            "name",
            "category"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "select_stats": {
          "name": "select_stats",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "true"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "app_public.cached_guilds": {
      "name": "cached_guilds",
      "schema": "app_public",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "icon": {
          "name": "icon",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "splash": {
          "name": "splash",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "banner": {
          "name": "banner",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "features": {
          "name": "features",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true,
          "default": "'{\"\"}'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "select_all": {
          "name": "select_all",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "true"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "app_public.cached_users": {
      "name": "cached_users",
      "schema": "app_public",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true
        },
        "avatar_url": {
          "name": "avatar_url",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "discriminator": {
          "name": "discriminator",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "last_checked": {
          "name": "last_checked",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "select_all": {
          "name": "select_all",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ],
          "using": "true"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "app_public.emoji_sticker_stats": {
      "name": "emoji_sticker_stats",
      "schema": "app_public",
      "columns": {
        "time": {
          "name": "time",
          "type": "timestamp(0)",
          "primaryKey": false,
          "notNull": true,
          "default": "date_trunc('day'::text, timezone('utc'::text, now()))"
        },
        "guild_id": {
          "name": "guild_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "asset_id": {
          "name": "asset_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "action_type": {
          "name": "action_type",
          "type": "emoji_sticker_action_type",
          "typeSchema": "app_public",
          "primaryKey": false,
          "notNull": true
        },
        "count": {
          "name": "count",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "count_external": {
          "name": "count_external",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": "0::bigint"
        }
      },
      "indexes": {
        "idx_action_type": {
          "name": "idx_action_type",
          "columns": [
            {
              "expression": "action_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "enum_ops"
            },
            {
              "expression": "time",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "timestamp_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_by_guild_emojis": {
          "name": "idx_by_guild_emojis",
          "columns": [
            {
              "expression": "asset_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "emoji_sticker_stats_pkey": {
          "name": "emoji_sticker_stats_pkey",
          "columns": [
            "time",
            "asset_id",
            "action_type"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "emoji_sticker_stats_time_check": {
          "name": "emoji_sticker_stats_time_check",
          "value": "\"time\" = date_trunc('day'::text, \"time\")"
        }
      },
      "isRLSEnabled": false
    },
    "app_public.emoji_sticker_stats_rate_limits": {
      "name": "emoji_sticker_stats_rate_limits",
      "schema": "app_public",
      "columns": {
        "user_id": {
          "name": "user_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "asset_id": {
          "name": "asset_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "action_type": {
          "name": "action_type",
          "type": "emoji_sticker_action_type",
          "typeSchema": "app_public",
          "primaryKey": false,
          "notNull": true
        },
        "last_used": {
          "name": "last_used",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "timezone('utc'::text, now())"
        }
      },
      "indexes": {
        "emoji_sticker_stats_rate_limits_idx_last_used": {
          "name": "emoji_sticker_stats_rate_limits_idx_last_used",
          "columns": [
            {
              "expression": "last_used",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "timestamp_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "emoji_sticker_stats_rate_limits_pkey": {
          "name": "emoji_sticker_stats_rate_limits_pkey",
          "columns": [
            "user_id",
            "asset_id",
            "action_type"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "app_hidden.failures": {
      "name": "failures",
      "schema": "app_hidden",
      "columns": {
        "failure_id": {
          "name": "failure_id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "max_attempts": {
          "name": "max_attempts",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 25
        },
        "attempt_count": {
          "name": "attempt_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "last_attempt": {
          "name": "last_attempt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "next_attempt": {
          "name": "next_attempt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "generated": {
            "as": "(last_attempt + (exp((LEAST(10, attempt_count))::double precision) * '00:00:01'::interval))",
            "type": "stored"
          }
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "app_public.giveaway_entries": {
      "name": "giveaway_entries",
      "schema": "app_public",
      "columns": {
        "giveaway_id": {
          "name": "giveaway_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "is_picked": {
          "name": "is_picked",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "giveaway_entries_giveaway_id_fkey": {
          "name": "giveaway_entries_giveaway_id_fkey",
          "tableFrom": "giveaway_entries",
          "tableTo": "giveaways",
          "schemaTo": "app_public",
          "columnsFrom": [
            "giveaway_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "giveaway_entries_pkey": {
          "name": "giveaway_entries_pkey",
          "columns": [
            "giveaway_id",
            "user_id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "app_public.giveaways": {
      "name": "giveaways",
      "schema": "app_public",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true
        },
        "channel_id": {
          "name": "channel_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "guild_id": {
          "name": "guild_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "host_user_id": {
          "name": "host_user_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "prize": {
          "name": "prize",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "num_winners": {
          "name": "num_winners",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "required_role_id": {
          "name": "required_role_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "required_min_level": {
          "name": "required_min_level",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "required_max_level": {
          "name": "required_max_level",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "required_nitro_state": {
          "name": "required_nitro_state",
          "type": "giveaway_nitro_type",
          "typeSchema": "app_public",
          "primaryKey": false,
          "notNull": false
        },
        "required_boosting": {
          "name": "required_boosting",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "is_ended": {
          "name": "is_ended",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "start_at": {
          "name": "start_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "end_at": {
          "name": "end_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "app_public.guild_bans": {
      "name": "guild_bans",
      "schema": "app_public",
      "columns": {
        "guild_id": {
          "name": "guild_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "guild_bans_user_id_idx": {
          "name": "guild_bans_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "guild_bans_pkey": {
          "name": "guild_bans_pkey",
          "columns": [
            "guild_id",
            "user_id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "app_public.guild_configs": {
      "name": "guild_configs",
      "schema": "app_public",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true
        },
        "prefix": {
          "name": "prefix",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "join_msg": {
          "name": "join_msg",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "join_msg_enabled": {
          "name": "join_msg_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "join_react": {
          "name": "join_react",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "leave_msg": {
          "name": "leave_msg",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "leave_msg_enabled": {
          "name": "leave_msg_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "msg_channel": {
          "name": "msg_channel",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "role_channel": {
          "name": "role_channel",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "role_config": {
          "name": "role_config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "role_enabled": {
          "name": "role_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "log_msg": {
          "name": "log_msg",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "log_msg_enabled": {
          "name": "log_msg_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "log_mod": {
          "name": "log_mod",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "log_mod_enabled": {
          "name": "log_mod_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "log_member": {
          "name": "log_member",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "log_member_enabled": {
          "name": "log_member_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "mute_dm_text": {
          "name": "mute_dm_text",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "mute_dm_enabled": {
          "name": "mute_dm_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "warn_dm_text": {
          "name": "warn_dm_text",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "warn_dm_enabled": {
          "name": "warn_dm_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "disabled_channels": {
          "name": "disabled_channels",
          "type": "bigint[]",
          "primaryKey": false,
          "notNull": false
        },
        "data": {
          "name": "data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "lookup_details_opt_in": {
          "name": "lookup_details_opt_in",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "lookup_prompted": {
          "name": "lookup_prompted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "admin_access": {
          "name": "admin_access",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "sushii_admin"
          ],
          "using": "true"
        },
        "update_managed_guild": {
          "name": "update_managed_guild",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": [
            "public"
          ]
        },
        "select_managed_guild": {
          "name": "select_managed_guild",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "app_public.guild_emojis_and_stickers": {
      "name": "guild_emojis_and_stickers",
      "schema": "app_public",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true
        },
        "guild_id": {
          "name": "guild_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "guild_asset_type",
          "typeSchema": "app_public",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "app_public.level_roles": {
      "name": "level_roles",
      "schema": "app_public",
      "columns": {
        "guild_id": {
          "name": "guild_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "role_id": {
          "name": "role_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "add_level": {
          "name": "add_level",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "remove_level": {
          "name": "remove_level",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "level_roles_guild_id_add_level_idx": {
          "name": "level_roles_guild_id_add_level_idx",
          "columns": [
            {
              "expression": "guild_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops"
            },
            {
              "expression": "add_level",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "level_roles_guild_id_remove_level_idx": {
          "name": "level_roles_guild_id_remove_level_idx",
          "columns": [
            {
              "expression": "guild_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops"
            },
            {
              "expression": "remove_level",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "level_roles_pkey": {
          "name": "level_roles_pkey",
          "columns": [
            "guild_id",
            "role_id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "admin_access": {
          "name": "admin_access",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "sushii_admin"
          ],
          "using": "true"
        }
      },
      "checkConstraints": {
        "chk_add_before_remove": {
          "name": "chk_add_before_remove",
          "value": "add_level < remove_level"
        },
        "chk_at_least_one_level": {
          "name": "chk_at_least_one_level",
          "value": "num_nonnulls(add_level, remove_level) >= 1"
        }
      },
      "isRLSEnabled": false
    },
    "app_public.members": {
      "name": "members",
      "schema": "app_public",
      "columns": {
        "guild_id": {
          "name": "guild_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "join_time": {
          "name": "join_time",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "members_pkey": {
          "name": "members_pkey",
          "columns": [
            "guild_id",
            "user_id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "app_public.messages": {
      "name": "messages",
      "schema": "app_public",
      "columns": {
        "message_id": {
          "name": "message_id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true
        },
        "author_id": {
          "name": "author_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "channel_id": {
          "name": "channel_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "guild_id": {
          "name": "guild_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "created": {
          "name": "created",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "msg": {
          "name": "msg",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "messages_created_idx": {
          "name": "messages_created_idx",
          "columns": [
            {
              "expression": "created",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "timestamp_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "app_public.mod_logs": {
      "name": "mod_logs",
      "schema": "app_public",
      "columns": {
        "guild_id": {
          "name": "guild_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "case_id": {
          "name": "case_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "action": {
          "name": "action",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "action_time": {
          "name": "action_time",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "pending": {
          "name": "pending",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "user_tag": {
          "name": "user_tag",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "executor_id": {
          "name": "executor_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "reason": {
          "name": "reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "msg_id": {
          "name": "msg_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "attachments": {
          "name": "attachments",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true,
          "default": "'{\"\"}'"
        },
        "dm_channel_id": {
          "name": "dm_channel_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "dm_message_id": {
          "name": "dm_message_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "dm_message_error": {
          "name": "dm_message_error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "mod_logs_pkey": {
          "name": "mod_logs_pkey",
          "columns": [
            "guild_id",
            "case_id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "admin_access": {
          "name": "admin_access",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "sushii_admin"
          ],
          "using": "true"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "app_public.msg_log_blocks": {
      "name": "msg_log_blocks",
      "schema": "app_public",
      "columns": {
        "guild_id": {
          "name": "guild_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "channel_id": {
          "name": "channel_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "block_type": {
          "name": "block_type",
          "type": "msg_log_block_type",
          "typeSchema": "app_public",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "msg_log_blocks_pkey": {
          "name": "msg_log_blocks_pkey",
          "columns": [
            "guild_id",
            "channel_id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "app_public.mutes": {
      "name": "mutes",
      "schema": "app_public",
      "columns": {
        "guild_id": {
          "name": "guild_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "start_time": {
          "name": "start_time",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "end_time": {
          "name": "end_time",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "pending": {
          "name": "pending",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "case_id": {
          "name": "case_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "fk_mod_action": {
          "name": "fk_mod_action",
          "tableFrom": "mutes",
          "tableTo": "mod_logs",
          "schemaTo": "app_public",
          "columnsFrom": [
            "guild_id",
            "case_id"
          ],
          "columnsTo": [
            "guild_id",
            "case_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "mutes_pkey": {
          "name": "mutes_pkey",
          "columns": [
            "guild_id",
            "user_id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "admin_access": {
          "name": "admin_access",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "sushii_admin"
          ],
          "using": "true"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "app_public.notification_blocks": {
      "name": "notification_blocks",
      "schema": "app_public",
      "columns": {
        "user_id": {
          "name": "user_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "block_id": {
          "name": "block_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "block_type": {
          "name": "block_type",
          "type": "notification_block_type",
          "typeSchema": "app_public",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "notification_blocks_pkey": {
          "name": "notification_blocks_pkey",
          "columns": [
            "user_id",
            "block_id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "app_public.notifications": {
      "name": "notifications",
      "schema": "app_public",
      "columns": {
        "user_id": {
          "name": "user_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "guild_id": {
          "name": "guild_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "keyword": {
          "name": "keyword",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "notification_guild_id_idx": {
          "name": "notification_guild_id_idx",
          "columns": [
            {
              "expression": "guild_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "notification_keyword_idx": {
          "name": "notification_keyword_idx",
          "columns": [
            {
              "expression": "keyword",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "notifications_user_id_idx": {
          "name": "notifications_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "notifications_pkey": {
          "name": "notifications_pkey",
          "columns": [
            "user_id",
            "guild_id",
            "keyword"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "admin_access": {
          "name": "admin_access",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "sushii_admin"
          ],
          "using": "true"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "app_public.reminders": {
      "name": "reminders",
      "schema": "app_public",
      "columns": {
        "user_id": {
          "name": "user_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "set_at": {
          "name": "set_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "expire_at": {
          "name": "expire_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "reminders_pkey": {
          "name": "reminders_pkey",
          "columns": [
            "user_id",
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "admin_access": {
          "name": "admin_access",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "sushii_admin"
          ],
          "using": "true"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "app_public.role_menu_roles": {
      "name": "role_menu_roles",
      "schema": "app_public",
      "columns": {
        "guild_id": {
          "name": "guild_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "menu_name": {
          "name": "menu_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "role_id": {
          "name": "role_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "emoji": {
          "name": "emoji",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "position": {
          "name": "position",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "role_menu_roles_guild_id_menu_name_fkey": {
          "name": "role_menu_roles_guild_id_menu_name_fkey",
          "tableFrom": "role_menu_roles",
          "tableTo": "role_menus",
          "schemaTo": "app_public",
          "columnsFrom": [
            "guild_id",
            "menu_name"
          ],
          "columnsTo": [
            "guild_id",
            "menu_name"
          ],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {
        "role_menu_roles_pkey": {
          "name": "role_menu_roles_pkey",
          "columns": [
            "guild_id",
            "menu_name",
            "role_id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "admin_access": {
          "name": "admin_access",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "sushii_admin"
          ],
          "using": "true"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "app_public.role_menus": {
      "name": "role_menus",
      "schema": "app_public",
      "columns": {
        "guild_id": {
          "name": "guild_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "menu_name": {
          "name": "menu_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "max_count": {
          "name": "max_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "required_role": {
          "name": "required_role",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "rolemenu_guildid_idx": {
          "name": "rolemenu_guildid_idx",
          "columns": [
            {
              "expression": "guild_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "rolemenu_name_idx": {
          "name": "rolemenu_name_idx",
          "columns": [
            {
              "expression": "menu_name",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "text_pattern_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "role_menus_pkey": {
          "name": "role_menus_pkey",
          "columns": [
            "guild_id",
            "menu_name"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "admin_access": {
          "name": "admin_access",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "sushii_admin"
          ],
          "using": "true"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "app_public.tags": {
      "name": "tags",
      "schema": "app_public",
      "columns": {
        "owner_id": {
          "name": "owner_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "guild_id": {
          "name": "guild_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "tag_name": {
          "name": "tag_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "use_count": {
          "name": "use_count",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "created": {
          "name": "created",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "attachment": {
          "name": "attachment",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "tag_name_idx": {
          "name": "tag_name_idx",
          "columns": [
            {
              "expression": "tag_name",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "gin_trgm_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "gin",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "tags_pkey": {
          "name": "tags_pkey",
          "columns": [
            "guild_id",
            "tag_name"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "admin_access": {
          "name": "admin_access",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "sushii_admin"
          ],
          "using": "true"
        },
        "select_all": {
          "name": "select_all",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "app_public.temp_bans": {
      "name": "temp_bans",
      "schema": "app_public",
      "columns": {
        "user_id": {
          "name": "user_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "guild_id": {
          "name": "guild_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "temp_bans_pkey": {
          "name": "temp_bans_pkey",
          "columns": [
            "user_id",
            "guild_id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "app_public.users": {
      "name": "users",
      "schema": "app_public",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true
        },
        "is_patron": {
          "name": "is_patron",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true
        },
        "patron_emoji": {
          "name": "patron_emoji",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "rep": {
          "name": "rep",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "fishies": {
          "name": "fishies",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "last_rep": {
          "name": "last_rep",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "last_fishies": {
          "name": "last_fishies",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "lastfm_username": {
          "name": "lastfm_username",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "profile_data": {
          "name": "profile_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "app_public.user_levels": {
      "name": "user_levels",
      "schema": "app_public",
      "columns": {
        "user_id": {
          "name": "user_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "guild_id": {
          "name": "guild_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "msg_all_time": {
          "name": "msg_all_time",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "msg_month": {
          "name": "msg_month",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "msg_week": {
          "name": "msg_week",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "msg_day": {
          "name": "msg_day",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "last_msg": {
          "name": "last_msg",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "level": {
          "name": "level",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "generated": {
            "as": "app_hidden.level_from_xp(msg_all_time)",
            "type": "stored"
          }
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "user_levels_pkey": {
          "name": "user_levels_pkey",
          "columns": [
            "user_id",
            "guild_id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "admin_access": {
          "name": "admin_access",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "sushii_admin"
          ],
          "using": "true"
        },
        "select_all": {
          "name": "select_all",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": [
            "public"
          ]
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "app_public.xp_blocks": {
      "name": "xp_blocks",
      "schema": "app_public",
      "columns": {
        "guild_id": {
          "name": "guild_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "block_id": {
          "name": "block_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "block_type": {
          "name": "block_type",
          "type": "block_type",
          "typeSchema": "app_public",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "xp_blocks_pkey": {
          "name": "xp_blocks_pkey",
          "columns": [
            "guild_id",
            "block_id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {
        "admin_access": {
          "name": "admin_access",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": [
            "sushii_admin"
          ],
          "using": "true"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {
    "app_public.block_type": {
      "name": "block_type",
      "schema": "app_public",
      "values": [
        "channel",
        "role"
      ]
    },
    "app_private.deployment_name": {
      "name": "deployment_name",
      "schema": "app_private",
      "values": [
        "blue",
        "green"
      ]
    },
    "app_public.emoji_sticker_action_type": {
      "name": "emoji_sticker_action_type",
      "schema": "app_public",
      "values": [
        "message",
        "reaction"
      ]
    },
    "app_public.giveaway_nitro_type": {
      "name": "giveaway_nitro_type",
      "schema": "app_public",
      "values": [
        "none",
        "nitro"
      ]
    },
    "app_public.guild_asset_type": {
      "name": "guild_asset_type",
      "schema": "app_public",
      "values": [
        "emoji",
        "sticker"
      ]
    },
    "app_hidden.level_timeframe": {
      "name": "level_timeframe",
      "schema": "app_hidden",
      "values": [
        "ALL_TIME",
        "DAY",
        "WEEK",
        "MONTH"
      ]
    },
    "app_public.msg_log_block_type": {
      "name": "msg_log_block_type",
      "schema": "app_public",
      "values": [
        "edits",
        "deletes",
        "all"
      ]
    },
    "app_public.notification_block_type": {
      "name": "notification_block_type",
      "schema": "app_public",
      "values": [
        "user",
        "channel",
        "category"
      ]
    }
  },
  "schemas": {
    "app_hidden": "app_hidden",
    "app_private": "app_private",
    "app_public": "app_public"
  },
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}